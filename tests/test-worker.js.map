{"version":3,"sources":["../src/test-worker.js"],"names":["importScripts","self","_babelPolyfill","onmessage","e","dbName","data","msg","message","version","db","open","server","then","result","close","postMessage","ports"],"mappings":"cACA,WAEIA,cAAc,iDACdC,KAAKC,gBAAiB,EAHbF,cAIK,mBACdC,KAAKE,UAAY,SAAUC,GACvB,GAAIC,GAASD,EAAEE,KAAKD,OAChBE,EAAMH,EAAEE,KAAKE,QACbC,EAAUL,EAAEE,KAAKG,OACrB,QAAQF,GACR,IAAK,kBACDG,GAAGC,MACCC,OAAQP,EACRI,QAASA,IACVI,KAAK,SAAUD,GACd,GAAIE,GAA2B,mBAAXF,EACpBA,GAAOG,QAFeC,YAGVF,IAEhB,MAVJ,KAWK,sBACDJ,GAAGC,MACCC,OAAQP,EACRI,QAASA,IACVI,KAAK,SAAUD,GACd,GAAIE,GAA2B,mBAAXF,EACpBA,GAAOG,QAFeX,EAGpBa,MAAM,GAAGD,YAAYF;;;AA3BvC,CAAC,YAAY;AACT,iBADS;;AAET,kBAAc,+CAAd,EAFS;AAGT,SAAK,cAAL,GAAsB,KAAtB;AAHS,iBAIT,CAAc,iBAAd,EAJS;AAKT,SAAK,SAAL,GAAiB,UAAU,CAAV,EAAa;AAC1B,YAAI,SAAS,EAAE,IAAF,CAAO,MAAP,CADa;AAE1B,YAAI,MAAM,EAAE,IAAF,CAAO,OAAP,CAFgB;AAG1B,YAAI,UAAU,EAAE,IAAF,CAAO,OAAP,CAHY;AAI1B,gBAAQ,GAAR;AACA,iBAAK,iBAAL;AACI,mBAAG,IAAH,CAAQ;AACJ,4BAAQ,MAAR;AACA,6BAAS,OAAT;iBAFJ,EAGG,IAHH,CAGQ,UAAU,MAAV,EAAkB;AACtB,wBAAI,SAAS,OAAO,MAAP,KAAkB,WAAlB,CADS;AAEtB,2BAAO,KAAP;AAFsB,+BAGtB,CAAY,MAAZ,EAHsB;iBAAlB,CAHR,CADJ;AASI,sBATJ;AADA,iBAWK,qBAAL;AACI,mBAAG,IAAH,CAAQ;AACJ,4BAAQ,MAAR;AACA,6BAAS,OAAT;iBAFJ,EAGG,IAHH,CAGQ,UAAU,MAAV,EAAkB;AACtB,wBAAI,SAAS,OAAO,MAAP,KAAkB,WAAlB,CADS;AAEtB,2BAAO,KAAP;AAFsB,qBAGtB,CAAE,KAAF,CAAQ,CAAR,EAAW,WAAX,CAAuB,MAAvB,EAHsB;iBAAlB,CAHR,CADJ;AASI,sBATJ;AAXA,SAJ0B;KAAb,CALR;CAAZ,GAAD","file":"test-worker.js","sourcesContent":["/*global importScripts, db */\r\n(function () {\r\n    'use strict';\r\n    importScripts('/node_modules/babel-polyfill/dist/polyfill.js');\r\n    self._babelPolyfill = false; // Hack for babel polyfill which checks for there being only one instance per this flag\r\n    importScripts('/dist/db.min.js');\r\n    self.onmessage = function (e) {\r\n        var dbName = e.data.dbName;\r\n        var msg = e.data.message;\r\n        var version = e.data.version;\r\n        switch (msg) {\r\n        case 'web worker open':\r\n            db.open({\r\n                server: dbName,\r\n                version: version\r\n            }).then(function (server) {\r\n                let result = typeof server !== 'undefined';\r\n                server.close(); // Prevent subsequent blocking\r\n                postMessage(result);\r\n            });\r\n            break;\r\n        case 'service worker open':\r\n            db.open({\r\n                server: dbName,\r\n                version: version\r\n            }).then(function (server) {\r\n                let result = typeof server !== 'undefined';\r\n                server.close(); // Prevent subsequent blocking\r\n                e.ports[0].postMessage(result);\r\n            });\r\n            break;\r\n        }\r\n    };\r\n}());\r\n"]}